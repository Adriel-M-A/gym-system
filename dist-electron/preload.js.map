{"version":3,"sources":["../main/preload.ts"],"sourcesContent":["import { contextBridge, ipcRenderer } from 'electron';\r\nimport { Member, Membership } from '../shared/types/db-models';\r\n\r\n// Comentario: Exponemos una API segura al proceso de renderizado (React).\r\n// Debemos tipar esto para que coincida con IpcApi definido en ipc-types.ts\r\n\r\ncontextBridge.exposeInMainWorld('api', {\r\n    platform: process.platform,\r\n    // Comentario: API segura para base de datos\r\n    db: {\r\n        getUsers: () => ipcRenderer.invoke('db:get-users'),\r\n        createUser: (user: any) => ipcRenderer.invoke('db:create-user', user),\r\n    },\r\n    // Módulo 1: Socios\r\n    members: {\r\n        create: (data: Partial<Member>) => ipcRenderer.invoke('members:create', data),\r\n        update: (id: number, data: Partial<Member>) => ipcRenderer.invoke('members:update', { id, data }),\r\n        getAll: (params: any) => ipcRenderer.invoke('members:get-all', params),\r\n        getById: (id: number) => ipcRenderer.invoke('members:get-by-id', id),\r\n        toggleStatus: (id: number) => ipcRenderer.invoke('members:toggle-status', id),\r\n        assignMembership: (memberId: number, membershipId: number) => ipcRenderer.invoke('members:assign-membership', { memberId, membershipId }),\r\n        getExpired: () => ipcRenderer.invoke('members:get-expired'),\r\n    },\r\n    // Módulo 1: Membresías\r\n    memberships: {\r\n        create: (data: Partial<Membership>) => ipcRenderer.invoke('memberships:create', data),\r\n        update: (id: number, data: Partial<Membership>) => ipcRenderer.invoke('memberships:update', { id, data }),\r\n        getAll: (params: any) => ipcRenderer.invoke('memberships:get-all', params), // params usually { onlyActive }\r\n        delete: (id: number) => ipcRenderer.invoke('memberships:delete', id),\r\n    }\r\n});\r\n"],"mappings":";AAAA,sBAA2C;AAM3C,8BAAc,kBAAkB,OAAO;AAAA,EACnC,UAAU,QAAQ;AAAA;AAAA,EAElB,IAAI;AAAA,IACA,UAAU,MAAM,4BAAY,OAAO,cAAc;AAAA,IACjD,YAAY,CAAC,SAAc,4BAAY,OAAO,kBAAkB,IAAI;AAAA,EACxE;AAAA;AAAA,EAEA,SAAS;AAAA,IACL,QAAQ,CAAC,SAA0B,4BAAY,OAAO,kBAAkB,IAAI;AAAA,IAC5E,QAAQ,CAAC,IAAY,SAA0B,4BAAY,OAAO,kBAAkB,EAAE,IAAI,KAAK,CAAC;AAAA,IAChG,QAAQ,CAAC,WAAgB,4BAAY,OAAO,mBAAmB,MAAM;AAAA,IACrE,SAAS,CAAC,OAAe,4BAAY,OAAO,qBAAqB,EAAE;AAAA,IACnE,cAAc,CAAC,OAAe,4BAAY,OAAO,yBAAyB,EAAE;AAAA,IAC5E,kBAAkB,CAAC,UAAkB,iBAAyB,4BAAY,OAAO,6BAA6B,EAAE,UAAU,aAAa,CAAC;AAAA,IACxI,YAAY,MAAM,4BAAY,OAAO,qBAAqB;AAAA,EAC9D;AAAA;AAAA,EAEA,aAAa;AAAA,IACT,QAAQ,CAAC,SAA8B,4BAAY,OAAO,sBAAsB,IAAI;AAAA,IACpF,QAAQ,CAAC,IAAY,SAA8B,4BAAY,OAAO,sBAAsB,EAAE,IAAI,KAAK,CAAC;AAAA,IACxG,QAAQ,CAAC,WAAgB,4BAAY,OAAO,uBAAuB,MAAM;AAAA;AAAA,IACzE,QAAQ,CAAC,OAAe,4BAAY,OAAO,sBAAsB,EAAE;AAAA,EACvE;AACJ,CAAC;","names":[]}